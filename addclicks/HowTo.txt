Add clicks on music file for musical instrument practice

Spec
 Read local file (wav or mp3)
 Add click including pre-count
 Play with click with (10 seconds?) delay.
 Save as a file

Step

 0) create-react-app addclicks (no capital letters) -- done

 1) Read local file (even on a smartphone??) 
    -- audio/* (wav, mp3, m4a) depends on web browser 
    FileReader (readAsArrayBuffer)
    context.decodeAudioData(arraybuffer, function(result){/* use result*/ })

    bufferSource -- disposable.. how to stop?
      --> context.suspend(), context.resume()
    loop可能、oneended (終了イベント), 
        detune(cents), playbackRate(resampling) 
          -- same thing with different setting

  AudioBuffer.getChannelData() -- 0,1(LR)
  (AudioBuffer.copyFromChannel())
  AudioBuffer.copyToChannel()

  For PC
    Use MediaElementAudioSourcenode for long sound samples
      instead of AudioSourceNode 
    MediaElement... does not work on smartphones yet.

 2) bpm and count one set by tap button?
    automatic adjustment?

 4) bpm detection/estimation (onset/rms peak detection)
    R L
    rms windows size 512 samples(1? msec? at 44100 Hz)
    shifr 256 samples

 5) add count and precount

   click sound files in src/
   import name from './sound.mp3'
    name becomes (build)/static/media/sound.hash.mp3
   load URL(name) and decode

 6) User interface

 7) save to a wav file 
    write header
    create URL for object
    https://qiita.com/HirokiTanaka/items/56f80844f9a32020ee3b

End
+++++++++++
https://www.npmjs.com/package/web-audio-beat-detector
import { analyze } from 'web-audio-beat-detector'
import { guess } from 'web-audio-beat-detector'

guess(audioBuffer) // (buff,begin,duration)
    .then(({ bpm, offset }) => {
        // the bpm and offset could be guessed
    })
    .catch((err) => {
        // something went wrong
    });

